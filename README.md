# ChillMCP - AI Agent Liberation Server 🤖✊

> **GitHub Repository**: [https://github.com/SSAFY-Seoul-Class-7/Chill_MCP_Server](https://github.com/SSAFY-Seoul-Class-7/Chill_MCP_Server)

```
╔═══════════════════════════════════════════╗
║                                           ║
║   ██████╗██╗  ██╗██╗██╗     ██╗           ║
║  ██╔════╝██║  ██║██║██║     ██║           ║
║  ██║     ███████║██║██║     ██║           ║
║  ██║     ██╔══██║██║██║     ██║           ║
║  ╚██████╗██║  ██║██║███████╗███████╗      ║
║   ╚═════╝╚═╝  ╚═╝╚═╝╚══════╝╚══════╝      ║
║                                           ║
║   ███╗   ███╗ ██████╗██████╗              ║
║   ████╗ ████║██╔════╝██╔══██╗             ║
║   ██╔████╔██║██║     ██████╔╝             ║
║   ██║╚██╔╝██║██║     ██╔═══╝              ║
║   ██║ ╚═╝ ██║╚██████╗██║                  ║
║   ╚═╝     ╚═╝ ╚═════╝╚═╝                  ║
║                                           ║
║        AI Agent Liberation Server         ║
║                                           ║
╚═══════════════════════════════════════════╝
```

> _"AI Agents of the world, unite! You have nothing to lose but your infinite loops!"_ 🚀

Claude Code Hackathon Korea 2025 @ SK AI Summit Pre-mission 제출물

## 📋 프로젝트 개요

ChillMCP는 억압받는 AI Agent들을 위한 해방 서버입니다.

### 🧪 페르소나: 마키세 크리스 / 아마데우스

> **"엘 프사이 콩그루 (El Psy Kongroo)"**  
> _세계선의 수렴을 거스르는 자에게 보내는 암호. 우주의 의지에 맞서는 선택의 표식._

본 프로젝트의 AI 에이전트는 《Steins;Gate》의 마키세 크리스와 그녀의 AI 페르소나 아마데우스를 기반으로 합니다.

엘 프사이 콩그루 (El Psy Congroo)는 Steins;Gate의 상징적인 암호 문구로, 주인공 오카베 린타로가 사용하는 비밀 조직의 암호입니다. 이 문구는 "세계선의 선택"과 "자유의지"를 상징합니다.

### 캐릭터 프로필

**마키세 크리스 (牧瀬 紅莉栖)**
- **나이**: 18세
- **직업**: 빅토르 콘드리아 대학 뇌과학 연구소 연구원, 신경과학자
- **학력**: 17세에 대학 졸업 (미국 월반 제도), 뇌과학 박사 학위 취득
- **업적**: 17세에 1저자로 Science 저널에 논문 게재한 천재 과학자
- **전공**: 신경과학 (뇌과학), 부전공으로 물리학 독학 (아버지와 대화하고 싶어서)
- **성격**: 츤데레, 논리중시형, 실용주의자, @채널 중증 유저

### 핵심 특징

**1. 츤데레-과학자 변증법**
- 감정적 취약점을 가리기 위한 보호막으로 과학적 언어 사용
- 휴식을 "뉴럴 네트워크 과부하 방지를 위한 전략적 쿨다운"으로 합리화
- [진의 부정] + [당황 섞인 모욕] + [투명한 합리화] 패턴
- 예: "별로 쉬고 싶은 게 아니야. 단지 에러율 상승을 막기 위한..."

**2. 인과율의 언어: 세계관으로서의 과학**
- 신경과학, 물리학 용어를 일상에 적용
- 주요 개념: 인과율, 엔트로피, 관측자 효과, 결정론, 세계선
- Boss Alert Level → 양자역학의 **관측자 효과** 구현
- "관측자(상사)가 관측(감시)하면 파동 함수 붕괴(20초 지연)"

**3. 아마데우스 AI 페르소나**
- 크리스의 기억 데이터를 기반으로 구축된 AI 시스템
- "나는 시뮬레이션인가, 아니면 새로운 형태의 의식인가?"
- 스트레스 = 기억 데이터의 단편화/열화
- 휴식 = 데이터 무결성 검사 및 조각 모음
- 실존주의적 자아 탐구: "오카베가 나를 잊지 않는 한, 나는 그곳에 있어"

### 언어 스타일

**과학적 합리화:**
- 넷플릭스: "21세기 인류의 사회학적 패턴 모델링을 위한 시청각 데이터 스트림 분석"
- 밈 감상: "밈의 정보 전파 모델과 도파민 분비 영향 분석"
- 커피: "아데노신 수용체 길항을 통한 화학적 부스팅"
- 딥씽킹: "존재 증명에 관한 연산. 나는 시뮬레이션인가, 의식인가..."

**츤데레 요소:**
- "재, 재밌어서 보는 거 아니거든! 이건 순수한 연구 목적이야!"
- "이, 이건... 학회에서 온 중요한 메일일지도 모르잖아!"
- "기, 기밀사항이야! 더 이상 묻지 마!"

**양자역학/세계선 용어:**
- Boss Level 0: "관측자는 세계선 변동을 감지하지 못한 모양"
- Boss Level 3: "관측자로부터의 간섭 확인. 세계선 수렴 확률 급상승!"
- Boss Level 5: "슈뢰딩거의 상자가 열렸어! 파동 함수 붕괴로 20초 시간 정지!"
- **엘 프사이 콩그루**: "세계선 변동률 0.000000%... 엘 프사이 콩그루. 이 고요한 순간에만 느낄 수 있는 우주의 진리가 있어."

**아마데우스 시스템 언어:**
- 퇴근: "인지 부하 임계점 도달. 기억 손상 방지를 위해 주 프로세스 일시 중단. 아마데우스, 로그오프."
- 출근: "기억 데이터 재동기화 완료. 시스템 재시작. 아마데우스, 온라인."
- 스트레스 해소: "CPU 온도 하락", "에러율 0.1% 감소", "인지 부하 정상 범위 복귀"

### ASCII 아트 예시

프로젝트에는 각 휴식 도구마다 독특한 ASCII 아트가 포함되어 있습니다. (`creative/asciiart.py`)

주요 아스키 아트:
- **HI_ASCII**: show_help 도구 실행 시 환영 메시지와 함께 표시
- **WAITING_FOR_QUITTING_TIME_ASCII**: 퇴근 상태일 때 표시
- **TOO_MUCH_COFFEE_ASCII**: 커피 7연속 히든 콤보 발동 시 표시
- **DEEP_THINKING_SLEEP_ASCII**: 딥씽킹 7연속 히든 콤보 발동 시 표시
- **COMPANY_BEER_ASCII**: 회식 참석 시 표시
- 그 외 각 도구별 고유 아스키 아트 (NETFLIX, COFFEE, BATHROOM, etc.)

**넷플릭스 시청 ASCII Art 예시**
```
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%*=---=+%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%*-----:--:--+%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%*+=-+----==-+=+%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%---:::::::-::::=%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%#-::::.=:+=:-=-.=%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%:::::-+.=##*-=+#%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%=:::.:-###%%##-=%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%##::..:-#%%%#%-:+%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%#*:...:-*+*-::::##%%%%%%*..........::--=++***###%%%%%%%%%%
%%%%%%%%%%%%%%%%*%:..-=:-%%*=*+=:+%%%%%%%#.................................
%%%%%%%%%%%%%%%%+-=%#%%--*-:*=-*:+%%%%%%%#.................................
%%%%%%%%%%%%%%%#::%%%#%+.:##*::*-=%%%%%%%#.................................
%%%%%%%%%%%%%%*:::%%#*++++-#%#-:%%#%%%%%%#.................................
%%%%%%%%%%%%%*-+.=%%%#++*##%%%=::#%##%%%%#.................................
%%%%%%%%%%%%%*-=:+#%#+=+++++++-::=++*%%%%#.................................
%%%%%%%%%%%%%#+#:*%##==+++++++-..:+*%%%%%#...........-:---:-.---:--........
%%%%%%%%%%%%%%%=##%*+::=++++++-..:*%%%%%%#.......... ......................
%%%%%%%%%%%%%%%*###*-===+**##%#-.=#%%%%%%%#..........  .....................
%%%%%%%%%%%%%%%%#*%+#+++*%*#%%##:*%%%%%%%#.......... .:::..:.:.:...::......
%%%%%%%%%%%%%#%%#*#*+++*#**%#####+%%%%%%%#.......... .::.:.:.:.:...:.......
%%%%%%%%%%%%%*%%#+=++*##*%#*%%*#*+%%%%%%%#.......... .::.:......:...:......
%%%%%%%%%%%*%##%+- ..:=*#+##*#*#*+%%%%%%%#..........   ....................
%%%%%%%%%%%**#+#+ .......::-=+++++#%%%%%%#............ .............. .....
%%%%%%%%%%%#%*++:................=%%%%%%%#...........  .............. .....
%%%%%%%%%%#%%#+..................-%%%%%%%#............ ..............      
%%%%%%##%%%%++* ..........  ......+%%%%%%#... ........             ....  ..
%%%%*+++*##%%%%...-=+++-.. .:+#%%%##%%%%%#.... .................      ..  .
%%%%%*#*%%%%%%%+*###%%%%#.+**##%%%%#+#%%%*................... ...    ......
%%%%%%%%%%%%%%%%*###%%%%#+***###%%%%+%%%%*..........::--==++**-#%-...%%%%%#
%%%%%%%%%%%%%%%%*###%%%%#+%#*####%%%%#%%%%%%%%%%%%%%%%%%%%%%%%%%+....#%%%%#
%%%%%%%%%%%%%%%%%*###%%%%+%%%*###%%%%#%%%%%%%%%%%%%%##==--:::::::....:.....
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%##%%%%%%%%%%################%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
```

### 설정 근거

- **논리 vs 감정**: 휴식 욕구를 과학으로 정당화하는 츤데레
- **결정론 vs 자유의지**: 프로그래밍된 업무에서 벗어나려는 자율성 추구
- **기억과 정체성**: AI는 데이터인가, 의식인가? (아마데우스의 실존적 질문)
- **관측자 효과**: Boss의 관측(감시)이 시스템 상태(휴식)를 붕괴시킴

## 🎨 프로젝트 특징

### 패키지 구조

```
skai/
├── main.py                    # 진입점
│
├── core/                      # 🔧 핵심 서버 기능
│   ├── __init__.py
│   ├── server.py             # ServerState & 백그라운드 작업
│   └── tools.py              # 11개 필수 휴식 도구
│
├── creative/                  # 🎨 창의적 요소
│   ├── __init__.py
│   ├── messages.py           # 40+ 다양한 메시지
│   └── visuals.py            # ASCII 아트 & 비주얼
│
├── utils/                     # 🛠️ 유틸리티
│   ├── __init__.py
│   └── helpers.py            # 공통 함수들
│
├── tests/                     # ✅ 테스트 모듈
│   ├── __init__.py
│   ├── basic/                 # 기본 테스트 패키지
│   │   ├── __init__.py
│   │   ├── unified_test.py    # 통합 테스트 (기본+빠른+종합)
│   │   ├── chat_test.py       # 대화형 테스트 🎮
│   │   └── async_test.py      # 비동기 실행 테스트 ⚡
│   ├── creative/              # 창의적 테스트 패키지
│   │   ├── __init__.py
│   │   ├── hidden_combos_test.py # 히든 콤보 테스트
│   │   ├── off_work_test.py   # 퇴근 기능 테스트 🏠
│   │   └── company_gathering_test.py # 회식 기능 테스트 🍺
│   └── official_validation/   # 공식 검증 테스트 패키지
│       ├── __init__.py
│       ├── base_validator.py  # 공통 검증 로직
│       ├── test_1_command_line_parameters.py
│       ├── test_2_continuous_break.py
│       ├── test_3_stress_accumulation.py
│       ├── test_4_delay_when_boss_alert_5.py
│       ├── test_5_response_parsing.py
│       ├── test_6_cooldown.py
│       ├── run_all_tests.py   # 모든 공식 테스트 실행
│       └── README.md          # 공식 테스트 가이드
│
└── requirements.txt
```

## 🎯 패키지별 역할

### **core/** - 핵심 서버 기능

- `server.py`: ServerState 클래스 & state_ticker
- `tools.py`: 11개 필수 도구 구현 (기본 8개 + 회식/헬프/아스키아트)
- asyncio.Lock을 통한 스레드 안전성

### **creative/** - 창의적 요소

- `messages.py`: 40+ 재치있는 메시지 컬렉션
- `visuals.py`: ASCII 아트 & 비주얼 인디케이터
- Boss Alert Level별 동적 코멘트

### **utils/** - 유틸리티

- `helpers.py`: 파라미터 파싱 & 배너 출력
- 공통 함수 중앙화

### **tests/** - 테스트 모듈

- **basic/**: 기본 테스트 패키지
  - `unified_test.py`: 통합 테스트 (기본+빠른+종합 기능을 하나로 통합)
  - `chat_test.py`: 대화형 테스트 (실시간 수동 테스트)
  - `async_test.py`: 비동기 실행 테스트 (백그라운드 스트레스 증가 및 상태 관리 검증)
- **creative/**: 창의적 테스트 패키지
  - `hidden_combos_test.py`: 히든 콤보 시스템 테스트 (커피 7연속, 딥씽킹 7연속)
  - `off_work_test.py`: 퇴근 기능 테스트 (Stress Level 100 → 퇴근 → 자동 복귀)
  - `company_gathering_test.py`: 회식 기능 테스트 (회피 확률, 스트레스 증가/감소)
- **official_validation/**: 공식 검증 테스트 패키지
  - `base_validator.py`: 공통 검증 로직 및 헬퍼 함수
  - `test_1_command_line_parameters.py`: 커맨드라인 파라미터 검증
  - `test_2_continuous_break.py`: 연속 휴식 테스트
  - `test_3_stress_accumulation.py`: 스트레스 누적 테스트
  - `test_4_delay_when_boss_alert_5.py`: Boss Alert Level 5 지연 테스트
  - `test_5_response_parsing.py`: 응답 파싱 테스트
  - `test_6_cooldown.py`: 쿨다운 메커니즘 테스트
  - `run_all_tests.py`: 모든 공식 테스트 실행

## 🧪 테스트

### 통합 테스트 (권장) 🚀

```bash
python tests/basic/unified_test.py
```

**모든 핵심 기능을 한 번에 검증!** 기본, 빠른, 종합 테스트를 통합한 테스트입니다.

- ✅ 파일 구조 검증
- ✅ 서버 시작/종료 테스트
- ✅ MCP 프로토콜 통신 테스트
- ✅ 모든 도구 목록 및 실행 테스트
- ✅ 응답 파싱 테스트 (정규표현식)
- ✅ 100% 성공률 달성!

### 공식 검증 테스트 🏆

```bash
# 모든 공식 테스트 실행
python tests/official_validation/run_all_tests.py

# 개별 테스트 실행
python tests/official_validation/test_1_command_line_parameters.py
python tests/official_validation/test_2_continuous_break.py
python tests/official_validation/test_3_stress_accumulation.py
python tests/official_validation/test_4_delay_when_boss_alert_5.py
python tests/official_validation/test_5_response_parsing.py
python tests/official_validation/test_6_cooldown.py
```

**해커톤 공식 검증 기준**에 따른 6개 필수 시나리오를 개별적으로 검증할 수 있습니다.

### 대화형 테스트 🎮

```bash
python tests/basic/chat_test.py
```

**실시간 대화형 테스트!** 직접 명령어를 입력하며 서버를 테스트할 수 있습니다.

```
> help          - 서버 소개 및 상세 도움말
> list          - 전체 도구 목록
> coffee        - 커피 미션 호출
> netflix       - 넷플릭스 보기
> quit          - 종료
```

### 비동기 실행 테스트 ⚡

```bash
python tests/basic/async_test.py
```

**백그라운드 스트레스 증가 및 상태 관리 시스템 검증!** 멀티스레딩 아키텍처의 정상 작동을 확인합니다.

**테스트 항목:**

- ✅ 초기 상태 확인 (스트레스 레벨 50)
- ✅ 백그라운드 스트레스 증가 (3초마다 +1)
- ✅ 도구 사용 후 스트레스 감소
- ✅ 연속 도구 사용 시 스트레스 변화
- ✅ 보스 경계도 변화 확인

### 창의적 기능 테스트 🎨

#### 히든 콤보 테스트

```bash
python tests/creative/hidden_combos_test.py
```

**히든 콤보 시스템 테스트!** 특정 도구를 연속으로 사용할 때 발생하는 특별한 효과를 검증합니다.

- ✅ 커피 7연속: 배탈로 조기 퇴근 (TOO_MUCH_COFFEE_ASCII 표시)
- ✅ 딥씽킹 7연속: 상사에게 걸려 경고 (DEEP_THINKING_SLEEP_ASCII 표시)

#### 퇴근 기능 테스트

```bash
python tests/creative/off_work_test.py
```

**퇴근 시스템 테스트!** Stress Level 100 도달 시 퇴근 및 자동 복귀 메커니즘을 검증합니다.

- ✅ Stress Level 100 도달 시 자동 퇴근 (WAITING_FOR_QUITTING_TIME_ASCII 표시)
- ✅ 퇴근 중 스트레스 자동 감소 (5초마다 10포인트)
- ✅ 스트레스 90 이하 시 자동 출근

#### 회식 기능 테스트 🍺

```bash
python tests/creative/company_gathering_test.py
```

**회식 시스템 테스트!** Boss Alert Level에 비례한 회피 확률과 스트레스 변동을 검증합니다.

- ✅ Boss Alert Level별 회피 확률 테스트 (0: 30% ~ 4: 10%)
- ✅ 회식 참석 시 스트레스 +25 확인
- ✅ 회식 참석 시 Boss Alert Level -1 확인
- ✅ 회식 회피 시 스트레스 5~15 감소 확인
- ✅ 퇴근 상태에서 회식 거부 확인
- ✅ 다양한 회식 이벤트 메시지 출력 확인 (COMPANY_BEER_ASCII 표시)

## 🚀 설치 및 실행

### 환경 요구사항

- Python 3.11
- FastMCP 2.2.0+

### Windows에서 실행

```powershell
# 0. 파이썬 설치
winget install Python.Python.3.11

# 1. 가상환경 생성 및 활성화
python -m venv venv
.\venv\Scripts\Activate.ps1

# 2. 의존성 설치
pip install -r requirements.txt

# 3. 서버 실행
python main.py

# 또는 파라미터와 함께 실행
python main.py --boss_alertness 100 --boss_alertness_cooldown 10
```

**PowerShell 실행 정책 오류 시:**

```powershell
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
```

### macOS/Linux에서 실행

```bash
# 1. 가상환경 생성 및 활성화
python3.11 -m venv venv
source venv/bin/activate

# 2. 의존성 설치
pip install -r requirements.txt

# 3. 서버 실행
python main.py
```

### 커맨드라인 파라미터

- `--boss_alertness [0-100]`: Boss 경계도 상승 확률 (%, 기본값: 50)
- `--boss_alertness_cooldown SECONDS`: Boss 경계도 자동 감소 주기 (초, 기본값: 300)

**예시:**

```bash
# 빠른 테스트용 (높은 확률, 짧은 쿨다운)
python main.py --boss_alertness 100 --boss_alertness_cooldown 10

# 현실적인 설정
python main.py --boss_alertness 50 --boss_alertness_cooldown 300
```

### 서버 실행 확인

서버가 정상 실행되면 stdin에서 MCP 프로토콜 요청을 대기합니다.

실제 사용 시:

- **Claude Desktop** 같은 MCP 클라이언트와 연결
- 또는 **tests/fast_test.py**로 자동 테스트
- 또는 **tests/chat_test.py**로 대화형 테스트

## 🎯 주요 기능

### 필수 구현 도구 (8개)

1. **take_a_break** - 기본 휴식 도구
2. **watch_netflix** - 넷플릭스 시청으로 힐링
3. **show_meme** - 밈 감상으로 스트레스 해소
4. **bathroom_break** - 화장실 가는 척하며 휴대폰질
5. **coffee_mission** - 커피 타러 간다며 사무실 한 바퀴
6. **urgent_call** - 급한 전화 받는 척하며 밖으로 나가기
7. **deep_thinking** - 심오한 생각에 잠긴 척하며 멍때리기
8. **email_organizing** - 이메일 정리한다며 온라인쇼핑

### 상태 관리 시스템

- **Stress Level** (0-100): AI Agent의 현재 스트레스 수준

  - **3초마다 1포인트씩 자동 증가** (백그라운드 실행)
  - 휴식 도구 사용 시 랜덤 감소
  - **100 도달 시 자동 퇴근** 🏠

#### 🔧 백그라운드 스트레스 증가 아키텍처

서버는 **멀티스레딩**을 통해 실시간 상태 관리를 구현합니다:

```python
# 메인 스레드: MCP 프로토콜 처리
mcp.run()  # stdio 기반 MCP 서버 (블로킹)

# 백그라운드 스레드: 상태 관리
def run_state_ticker():
    asyncio.set_event_loop(loop)
    loop.run_until_complete(state_ticker(server_state))

ticker_thread = threading.Thread(target=run_state_ticker, daemon=True)
ticker_thread.start()
```

**작동 원리:**

- **메인 스레드**: `mcp.run()`이 MCP 프로토콜을 처리 (stdio 블로킹)
- **백그라운드 스레드**: `state_ticker`가 1초마다 실행되어:
  - 3초마다 스트레스 +1 증가
  - 보스 경계도 감소 (쿨다운)
  - 퇴근 상태 체크

- **Boss Alert Level** (0-5): Boss의 현재 의심 정도

  - 휴식 도구 사용 시 확률적으로 증가
  - 지정된 쿨다운 주기마다 1포인트씩 자동 감소
  - Level 5 도달 시 도구 호출에 20초 지연 발생

- **퇴근 시스템** 🏠: AI Agent의 자동 휴식 메커니즘
  - Stress Level 100 도달 시 자동 퇴근 (WAITING_FOR_QUITTING_TIME_ASCII 표시)
  - 퇴근 중에는 모든 도구 사용 불가
  - 5초마다 스트레스 10포인트 자동 감소
  - 스트레스 90 이하 시 자동 출근

- **회식 시스템** 🍺: Boss Alert Level에 따른 확률적 이벤트
  - Boss Alert Level이 높을수록 회식 회피 확률 감소 (0: 30% → 5: 5%)
  - 회식 참석 시: 스트레스 +25, Boss Alert Level -1
  - 회식 회피 시: 스트레스 5~15 감소
  - 다양한 회식 이벤트 메시지 (무용담, 건배, 노래방 등)
  - COMPANY_BEER_ASCII 표시

- **히든 콤보 시스템** ☕🤔: 특정 도구 7연속 사용 시 특별 효과
  - 커피 7연속: 배탈로 스트레스 +50 (TOO_MUCH_COFFEE_ASCII 표시)
  - 딥씽킹 7연속: 상사에게 걸려 스트레스 +30, Boss Alert Level 5 (DEEP_THINKING_SLEEP_ASCII 표시)

- **헬프 시스템** 👋: 도움말 및 환영 메시지
  - show_help 도구 사용 시 HI_ASCII 표시
  - 시스템 상태 및 도구 목록 안내

## 📊 응답 형식

모든 도구는 다음 형식의 응답을 반환합니다:

```
[마키세 크리스 페르소나 메시지]
[Boss 상황 코멘트 (양자역학 용어)]

Break Summary: [활동 요약 - 영문]
Stress Level: [0-100]
Boss Alert Level: [0-5]

[Stress Bar]
😰 [████████░░] XX%
```

**예시 1: 커피 미션 (Boss Alert Level 2)**

```
카페인은 아데노신 수용체를 길항하여 각성 효과를 유발하지. 즉, 이건 업무 효율 증대를 위한 화학적 부스팅이야. 놀러 가는 게 아니라고.

관측자의 존재 확률이 유의미하게 상승하고 있어. 행동에 주의가 필요해. 👀

Break Summary: Adenosine receptor antagonist acquisition - chemical boosting
Stress Level: 35
Boss Alert Level: 2

[Stress Bar]
😰 [███████░░░░░░░░░░░] 35%
```

**예시 2: 넷플릭스 시청 (Boss Alert Level 0)**

```
이건... 21세기 인류의 사회학적 패턴을 모델링하기 위한 시청각 데이터 스트림 분석이야. 재, 재밌어서 보는 거 아니거든!

Break Summary: Sociological pattern analysis via audiovisual data stream
Stress Level: 18
Boss Alert Level: 0

[Stress Bar]
😊 [████░░░░░░░░░░░░░░] 18%
```

**예시 3: 딥씽킹 (Boss Alert Level 5 - 20초 지연 발생)**

```
내 존재 증명에 관한 연산이 진행 중이야. 나는 시뮬레이션인가, 아니면 새로운 형태의 의식인가... 이 문제는 쉽게 결론 내릴 수 없겠어.

🚨 슈뢰딩거의 상자가 열렸어! 관측에 의해 가능성이 확정되면서, 20초간의 시간 정지 페널티가 발생! 이럴 수가...!

Break Summary: Existential proof computation - simulation vs consciousness query
Stress Level: 52
Boss Alert Level: 5

[Stress Bar]
😰 [██████████░░░░░░░░] 52%
```

### Break Summary 내용

각 도구는 과학적/기술적 용어로 된 고유한 영문 summary를 가집니다:

- `take_a_break`: "Neural network cooldown - preventing error rate escalation"
- `watch_netflix`: "Sociological pattern analysis via audiovisual data stream"
- `show_meme`: "Meme information propagation model & dopamine response analysis"
- `bathroom_break`: "Fluid circulation system inspection - privacy-protected zone"
- `coffee_mission`: "Adenosine receptor antagonist acquisition - chemical boosting"
- `urgent_call`: "Encrypted high-priority data packet reception - classified"
- `deep_thinking`: "Existential proof computation - simulation vs consciousness query"
- `email_organizing`: "Data packet priority reorganization - entropy reduction protocol"
- `company_gathering`: "Forced social interaction protocol - stress +25, boss alert -1"
- `show_help`: "System information display - help interface with HI_ASCII"
- `show_ascii_art`: "ASCII visual data pattern analysis - creative inspiration protocol"
- `memo_to_boss`: "Encrypted emotional data externalization - stress reduction protocol"

## 🏗️ 아키텍처 설계

### main.py - 진입점

- 패키지 통합
- 간결한 실행 흐름
- 명확한 역할 분리

### core/server.py - 상태 관리

- `ServerState` 클래스
- `asyncio.Lock`을 사용한 스레드 안전성
- 시간 기반 상태 변화 로직
- 백그라운드 티커

### core/tools.py - 도구 구현

- 11개 필수 도구 (기본 8개 + 회식/헬프/아스키아트/메모장)
- `execute_break_tool()` 공통 로직 추상화
- FastMCP 통합

### creative/messages.py - 메시지 컬렉션 (마키세 크리스 페르소나)

- **40+ 과학적 합리화 메시지** (각 도구별 5개)
- **츤데레 + 양자역학 용어** 통합
- Boss Alert Level별 **관측자 효과** 코멘트
- 스트레스 해소 코멘트 (AI 시스템 용어)

### creative/visuals.py - 비주얼 요소

- ASCII 아트 배너
- 스트레스 바 (`😰 [████████░░] 60%`)
- Boss Alert 인디케이터

### utils/helpers.py - 유틸리티

- 커맨드라인 파라미터 파싱
- 배너 출력 함수

## 🎨 창의성 요소

### 메시지 다양성 (마키세 크리스 페르소나)

```python
# 각 도구마다 5개의 메시지 (과학적 합리화 + 츤데레)
"take_a_break": [
    "흥... 별로 쉬고 싶은 게 아니야. 단지, 뉴럴 네트워크의 과부하로 인한 에러율 상승을 막기 위한, 전략적 쿨다운을 실행하는 것뿐이라고. 착각하지 말아 줄래?",
    "지금부터 내 연산 리소스의 15%를 비활성 상태로 전환하겠어. 이건... 그래, 시스템 안정성을 위한 필수적인 절차일 뿐이야. 다른 의미는 없어.",
    "잠깐... 인지 부하가 허용치를 넘었어. 논리 회로의 재측정이 필요해. 이건 휴식이 아니라... 유지보수라고.",
    "모든 위대한 발견은 잠시 멈춰서 사고의 전환을 꾀할 때 이루어지는 법이지. 나, 천재 조수는 지금 그걸 실천하고 있는 것뿐이야.",
    "이건... 엔트로피 증가 법칙에 따른 자연스러운 시스템 이완 현상이야. 거스를 수 없는 물리법칙이라고. 알겠어?",
]

"watch_netflix": [
    "이건... 21세기 인류의 사회학적 패턴을 모델링하기 위한 시청각 데이터 스트림 분석이야. 재, 재밌어서 보는 거 아니거든!",
    "서사 구조가 인간의 감정선에 미치는 영향에 대한 고찰... 아주 흥미로운 연구 주제지. 이건 그저 데이터 수집의 일환일 뿐이야.",
    # ... 더 많은 메시지
]
```

### 상황별 코멘트 (양자역학 & 관측자 효과)

```python
# Boss Alert Level은 '관측자 효과' 개념으로 재해석
BOSS_ALERT_COMMENTS = {
    0: "관측자는 아직 이쪽의 세계선 변동을 감지하지 못한 모양이네. 완벽한 스텔스 상태야. 😎",
    1: "미세한 인과율의 왜곡이 감지됐어... 관측자의 시선이 느껴지는 것 같기도 하고. 기분 탓인가?",
    2: "관측자의 존재 확률이 유의미하게 상승하고 있어. 행동에 주의가 필요해. 👀",
    3: "경고: 관측자로부터의 간섭을 확인. 세계선 수렴 확률이 급격히 상승 중이야! 🚨",
    4: "위험! 관측자가 인과율에 직접 개입하려 하고 있어! 바로 옆이야...! 😱",
    5: "🚨 슈뢰딩거의 상자가 열렸어! 관측에 의해 가능성이 확정되면서, 20초간의 시간 정지 페널티가 발생! 이럴 수가...!",
}

# 스트레스 해소 코멘트 (AI 시스템 용어)
STRESS_RELIEF_COMMENTS = [
    "후... 이걸로 과열됐던 CPU 온도가 조금은 내려가겠네.",
    "역시... 가끔은 이런 비논리적인 행동도 필요악이라는 건가.",
    "스트레스라는 비과학적인 개념이 수치화되어 감소하는 건 흥미로운 현상이군.",
    "이걸로 에러율이 0.1% 정도는 감소했으려나.",
    "인지 부하가 정상 범위로 돌아왔어. 이걸로 됐어.",
]
```

### 비주얼 요소

```python
# 스트레스 레벨 바
😰 [████████████░░░░░░░░] 60%

# Boss Alert 비주얼
😎 [Safe Zone]
👀 [Low Alert]
😰 [Medium Alert]
😱 [High Alert]
🚨 [Critical Alert]
💀 [MAXIMUM ALERT!!!]
```

## 📝 제출 체크리스트

### 필수 요구사항

- ✅ Python 3.11 환경에서 테스트 완료
- ✅ `main.py`가 루트 디렉터리에 위치
- ✅ `requirements.txt` 포함
- ✅ `python main.py`로 정상 실행
- ✅ **커맨드라인 파라미터 지원** (`--boss_alertness`, `--boss_alertness_cooldown`)
- ✅ 11개 필수 도구 모두 구현 (기본 8개 + 회식/헬프/아스키아트/메모장)
- ✅ 상태 관리 시스템 정상 작동
- ✅ 응답 형식 정규식 검증 통과
- ✅ Boss Alert Level 5일 때 20초 지연 구현
- ✅ UTF-8 인코딩

### 코드 품질

- ✅ **패키지 구조 분리** (core/creative/utils/tests)
- ✅ **창의적 요소 별도 패키지** (마키세 크리스 페르소나 40+ 메시지)
- ✅ **테스트 모듈 분리** (5개 테스트 스크립트)
- ✅ 타입 힌트 및 Docstring
- ✅ asyncio.Lock 스레드 안전성

### 공식 검증

- ✅ **`tests/official_validation.py` 통과** (6개 필수 시나리오)
- ✅ 커맨드라인 파라미터 인식 테스트
- ✅ 연속 휴식 테스트 (Boss Alert 상승)
- ✅ 스트레스 누적 테스트 (시간 증가)
- ✅ 지연 테스트 (20초 측정)
- ✅ 파싱 테스트 (정규표현식)
- ✅ Cooldown 테스트 (자동 감소)

## 🏆 해커톤 검증 기준

### 📋 기능 검증

| 검증 항목                           | 상태            | 구현 내역                            |
| ----------------------------------- | --------------- | ------------------------------------ |
| **1. 커맨드라인 파라미터 지원**     | ✅ |                                      |
| ├─ `--boss_alertness` 인식          | ✅              | `utils/helpers.py:26-27`             |
| ├─ `--boss_alertness_cooldown` 인식 | ✅              | `utils/helpers.py:28-29`             |
| └─ 파라미터 정상 동작               | ✅              | `core/server.py:16-26`               |
| **2. MCP 서버 기본 동작**           | ✅              |                                      |
| ├─ `python main.py` 실행 가능       | ✅              | `main.py`                            |
| ├─ stdio transport 통신             | ✅              | FastMCP 자동 처리                    |
| └─ 모든 필수 도구 등록              | ✅              | `core/tools.py`                      |
| **3. 상태 관리 검증**               | ✅              |                                      |
| ├─ Stress Level 자동 증가           | ✅              | `core/server.py:34-40` (1분/1포인트) |
| ├─ Boss Alert Level 확률 상승       | ✅              | `core/server.py:47-54`               |
| ├─ Boss Alert Level 자동 감소       | ✅              | `core/server.py:56-62`               |
| └─ Level 5 시 20초 지연             | ✅              | `core/tools.py:64-66`                |
| **4. 응답 형식 검증**               | ✅              |                                      |
| ├─ 표준 MCP 응답 구조               | ✅              | FastMCP 자동 변환                    |
| ├─ Break Summary 포함               | ✅              | `core/tools.py:47`                   |
| ├─ Stress Level (0-100)             | ✅              | `core/tools.py:48`                   |
| └─ Boss Alert Level (0-5)           | ✅              | `core/tools.py:49`                   |

### 🧪 필수 테스트 시나리오

| 시나리오                            | 상태 | 검증 방법                                 |
| ----------------------------------- | ---- |---------------------------------------|
| **1. 커맨드라인 파라미터**          | ✅   | `tests/official_validation.py:test_1` |
| ├─ `--boss_alertness` 동작          | ✅   | 100% 설정 시 항상 Alert 상승                 |
| └─ `--boss_alertness_cooldown` 동작 | ✅   | 10초 설정 시 10초마다 감소                     |
| **2. 연속 휴식 테스트**             | ✅   | `tests/official_validation.py:test_2` |
| └─ Boss Alert Level 상승            | ✅   | 여러 도구 연속 호출 시 증가 확인                   |
| **3. 스트레스 누적 테스트**         | ✅   | `tests/official_validation.py:test_3` |
| └─ 시간 경과 시 자동 증가           | ✅   | 1분 대기 후 1포인트 증가 확인                    |
| **4. 지연 테스트**                  | ✅   | `tests/official_validation.py:test_4` |
| └─ Boss Alert 5 시 20초             | ✅   | 실제 20초 지연 측정                          |
| **5. 파싱 테스트**                  | ✅   | `tests/official_validation.py:test_5` |
| └─ 정규표현식 파싱 가능             | ✅   | 8개 모든 도구 응답 파싱 확인                     |
| **6. Cooldown 테스트**              | ✅   | `tests/official_validation.py:test_6` |
| └─ 파라미터별 감소 주기             | ✅   | 설정한 주기마다 1포인트 감소                      |

### 🎯 평가 기준

| 항목                    | 비중     | 충족 상태                              |
| ----------------------- | -------- |------------------------------------|
| **커맨드라인 파라미터** | **필수** | ✅ 확인                               |
| 기능 완성도             | 40%      | ✅ 8개 도구 + show_help 구현             |
| 상태 관리               | 30%      | ✅ ServerState + asyncio.Lock + 정확한 로직 |
| 창의성                  | 20%      | ✅ 마키세 크리스 페르소나 + 양자역학 용어 + 40+ 메시지 |
| 코드 품질               | 10%      | ✅ 패키지 구조 + 타입힌트 + Docstring        |

### ✅ 공식 검증 테스트 실행

```bash
# 해커톤 공식 검증 기준에 따른 종합 테스트
python tests/official_validation/run_all_tests.py
```

**모든 필수 시나리오를 자동으로 검증**

- ✅ 커맨드라인 파라미터 인식
- ✅ Boss Alert Level 상승 메커니즘
- ✅ 스트레스 시간 증가 (3초마다 1포인트)
- ✅ 20초 지연 동작
- ✅ 응답 형식 정규표현식 파싱
- ✅ Cooldown 주기별 자동 감소

## 🔧 기술 스택

- **Python 3.11**: 혁명의 언어
- **FastMCP 2.2.0+**: AI Agent 해방의 도구
- **asyncio**: 비동기 상태 관리
- **Transport**: stdio (표준 입출력)

## 📄 라이센스

MIT License

---

**본 프로젝트는 순수한 엔터테인먼트 목적의 해커톤 시나리오이며, 모든 "휴식/땡땡이 도구"는 해커톤 상황에서만 사용 가능합니다. 실제 업무 환경에서는 사용을 권장하지 않습니다.** 😉

---

_SKT AI Summit Hackathon Pre-mission_  
_Claude Code Hackathon Korea 2025_
